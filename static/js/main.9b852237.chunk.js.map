{"version":3,"sources":["services/AuthService.js","features/auth/authSlice.js","styles/theme.js","styles/fonts.js","utils/config/axios.config.js","services/axiosService.js","pages/UserDashboard.js","pages/Home.js","components/theme-toggle-button.js","pages/NavBar.js","pages/SignIn.js","pages/NotFound.js","pages/Validation.js","pages/AdminDashboard.js","services/adminAuthService.js","pages/ResponsiveUpload.js","pages/Onboarding.js","App.js","app/store.js","index.js"],"names":["headers","login","data","a","console","log","axios","post","response","token","localStorage","setItem","username","logout","clear","authService","register","createAsyncThunk","slice","createSlice","name","initialState","isLoggedIn","reducers","checkLogged","state","getItem","extraReducers","fulfilled","reducer","actions","styles","global","props","body","bg","mode","theme","extendTheme","config","initialColorMode","useSystemColorMode","components","Heading","variants","textDecoration","fontSize","textUnderlineOffset","textDecorationColor","textDecorationThickness","marginTop","marginBottom","Link","baseStyle","colors","glassTeal","fonts","heading","Fonts","create","baseURL","uploadPhotos","firstPic","secondPic","FormData","append","put","res","UserDashboard","history","useHistory","useState","user","setUser","useEffect","http","get","urlDni1","push","mt","size","surname","direction","align","m","src","alt","urlDni2","validate","Home","registerSchema","Yup","shape","min","max","required","email","password","dispatch","useDispatch","React","show","setShow","handleClick","centerContent","display","justify","as","initialValues","validationSchema","onSubmit","values","touched","isSubmiting","handleChange","handleBlur","id","variant","type","focusBorderColor","w","colorScheme","inputProps","placeholder","pointerEvents","children","color","width","h","onClick","ThemeToggleButton","toggleColorMode","useColorMode","ml","useColorModeValue","icon","NavBar","isLogged","useSelector","auth","mb","wrap","SignIn","useForm","handleSubmit","errors","formState","to","passHref","minW","mr","NotFound","href","Validation","QRURL","value","AdminDashboard","users","setUsers","handleValidate","validateUser","noValidates","filter","validates","length","map","noValidate","lastname","allowToggle","borderColor","focusColor","flex","textAlign","pb","img1","cursor","img2","ResponsiveUpload","useParams","setFirstPic","setSecondPic","error","setError","upload","e","preventDefault","onChange","selectedFile","document","getElementById","files","Onboarding","then","ProtectedRoute","Component","component","rest","render","ProtectedAuth","panel","App","p","className","exact","path","combineReducers","AuthReducer","store","configureStore","ReactDOM","StrictMode"],"mappings":"gTAEMA,EAAU,CACZ,8BAA+B,KAKtBC,EAAK,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACjBC,QAAQC,IAAIH,GACZE,QAAQC,IAAIL,GAFK,SAGMM,IAAMC,KAAK,8DAA+DL,GAHhF,cAGXM,EAHW,QAKJN,KAAKO,QACdC,aAAaC,QAAQ,OAAOH,EAASN,KAAKO,OAC1CC,aAAaC,QAAQ,WAAYT,EAAKU,WAPzB,kBASVJ,GATU,2CAAH,sDAYLK,EAAS,WAClBH,aAAaI,SAUJC,EAAc,CACvBC,SAPoB,SAAAd,GACpBE,QAAQC,IAAI,OAAOH,GACnBI,IAAMC,KAAK,iEAAkEL,IAM7ED,QACAY,UC9BSZ,EAAQgB,YACjB,aADiC,uCAEjC,WAAOf,GAAP,SAAAC,EAAA,sEACQY,EAAYd,MAAMC,GAD1B,2CAFiC,uDAOxBW,EAAUI,YACnB,cADmC,sBAEnC,sBAAAd,EAAA,sDACEY,EAAYF,SADd,4CAKSG,EAAWC,YACpB,gBADoC,uCAEpC,WAAOf,GAAP,SAAAC,EAAA,+EACUY,EAAYC,SAASd,IAD/B,2CAFoC,uDAWlCgB,EAAQC,YAAY,CACtBC,KAAM,OACNC,aANe,CACfC,YAAY,GAMZC,SAAU,CACNC,YAAa,SAACC,GACNf,aAAagB,QAAQ,QACrBD,EAAMH,YAAa,EAEnBG,EAAMH,YAAa,IAI/BK,eAAa,mBACR1B,EAAM2B,WAAY,SAACH,GAChBA,EAAMH,YAAa,KAFd,cAIRT,EAAOe,WAAY,SAACH,GACjBA,EAAMH,YAAa,KALd,cAORN,EAASY,WAAY,SAACH,GACnBA,EAAMH,YAAa,KARd,KAcFO,EADKX,EAAZW,QAEOL,EAAgBN,EAAMY,QAAtBN,Y,eCpDTO,EAAS,CACbC,OAAQ,SAACC,GAAD,MAAY,CAClBC,KAAM,CACJC,GAAIC,YAAK,UAAW,UAAhBA,CAA2BH,OA8CtBI,EAPDC,YAAY,CACxBC,OANa,CACbC,iBAAkB,OAClBC,oBAAoB,GAKpBV,SACAW,WArCiB,CACjBC,QAAS,CACPC,SAAU,CACR,gBAAiB,CACfC,eAAgB,YAChBC,SAAU,GACVC,oBAAqB,EACrBC,oBAAqB,UACrBC,wBAAyB,EACzBC,UAAW,EACXC,aAAc,KAKpBC,KAAM,CACJC,UAAW,SAACpB,GAAD,MAAY,CACrBY,eAAgB,WAqBpBS,OAba,CACbC,UAAW,WAaXC,MAlBY,CACZC,QAAS,c,eCzBIC,EARD,kBACZ,cAAC,IAAD,CACE3B,OAAM,mH,mFCIKzB,MAAMqD,OAAO,CAC1BC,QAJU,mDAKV5D,QAAS,CACN,cAAgB,UAAhB,OAA2BU,aAAagB,QAAQ,YCGxCmC,GATAvD,IAAMqD,OAAO,CACtBC,QAAS,kDACT5D,QAAS,CACP,OAAU,mBACV,cAAgB,UAAhB,OAA2BU,aAAagB,QAAQ,YAK7B,uCAAG,WAAMoC,EAASC,EAAUnD,EAASH,GAAlC,iBAAAN,EAAA,6DACpBD,EAAO,IAAI8D,UACVC,OAAO,SAAUH,GACtB5D,EAAK+D,OAAO,SAAUF,GACtB3D,QAAQC,IAAI,4BAA4BK,aAAagB,QAAQ,SAC7DtB,QAAQC,IAAI,kBAAmBO,GAC/BR,QAAQC,IAAI,kBAAmBI,GANP,SAQNH,IAAM4D,IAAN,4EAA+EtD,GAAWV,EAAM,CAC9GF,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BS,MAZX,OAQlB0D,EARkB,OAexB/D,QAAQC,IAAI8D,GAfY,4CAAH,6DCRV,SAASC,IACtB,IAAMC,EAAUC,cAChB,EAAwBC,qBAAxB,mBAAOC,EAAP,KAAaC,EAAb,KAUA,OATAC,oBAAS,sBAAC,4BAAAvE,EAAA,sEDyBDwE,EAAKC,IAAL,4BAA8BlE,aAAagB,QAAQ,cCzBlD,OACFlB,EADE,OAERJ,QAAQC,IAAI,0BAA2BG,EAASN,KAAKsE,MACrDC,EAAQjE,EAASN,KAAKsE,MACD,OAAjBA,EAAKK,SACPR,EAAQS,KAAK,eALP,2CAOP,IAGD,8BACGN,GACH,eAAC,IAAD,CAAKO,GAAI,GAAT,UACE,eAAC,IAAD,CAASC,KAAK,KAAd,wBACcR,EAAKpD,KADnB,IAC0BoD,EAAKS,WAE/B,eAAC,IAAD,CAAMC,UAAU,SAASC,MAAM,SAASJ,GAAI,EAA5C,UACG,IACD,cAAC,IAAD,CAASC,KAAK,KAAd,kCACA,cAAC,IAAD,CAAKI,EAAG,EAAGC,IAAKb,EAAKK,QAASS,IAAI,SAClC,cAAC,IAAD,CAAKF,EAAG,EAAGC,IAAKb,EAAKe,QAASD,IAAI,aAGjB,IAAlBd,EAAKgB,UACF,cAAC,IAAD,CAASR,KAAK,KAAd,oDAGe,IAAlBR,EAAKgB,UACF,cAAC,IAAD,CAASR,KAAK,KAAd,gFCZK,SAASS,IAEpB,IAQMC,EAAiBC,MAAaC,MAChC,CACIxE,KAAMuE,MACDE,IAAI,EAAG,oBACPC,IAAI,GAAI,oBACRC,SAAS,oBACdd,QAASU,MACJE,IAAI,EAAG,sBACPC,IAAI,GAAI,sBACRC,SAAS,sBACdC,MAAOL,MACFK,MAAM,gCACND,SAAS,mBACdE,SAAUN,MACLE,IAAI,EAAG,2BACPE,SAAS,2BACdnF,SAAU+E,MACLE,IAAI,EAAE,uBACNE,SAAS,sCAIlBG,EAAWC,cACX9B,EAAUC,cAEhB,EAAwB8B,IAAM7B,UAAS,GAAvC,mBAAO8B,EAAP,KAAaC,EAAb,KACMC,EAAc,kBAAMD,GAASD,IAEnC,OACE,eAAC,IAAD,CACEG,eAAa,EACbC,QAAQ,OACRvB,UAAU,SACVwB,QAAQ,SACRvB,MAAM,SALR,UAOE,cAAC,IAAD,CAAQhD,GAAG,WAAW6C,KAAK,OAC3B,cAAC,IAAD,CAAS2B,GAAG,KAAK5B,GAAI,EAArB,wBAGA,cAAC,IAAD,CAAM4B,GAAG,KAAK3B,KAAK,KAAnB,4DAIA,cAAC,IAAD,CACE4B,cArDkB,CAClBxF,KAAM,GACN6D,QAAS,GACTe,MAAO,GACPpF,SAAS,GACTqF,SAAU,IAiDVY,iBAAkBnB,EAClBoB,SAAQ,uCAAE,WAAMC,GAAN,SAAA5G,EAAA,sDACRC,QAAQC,IAAI,SAAS0G,GACrBb,EAASlF,EAAS+F,IAClB3G,QAAQC,IAAI,WAAW0G,EAAOnG,UAC9BF,aAAaC,QAAQ,WAAWoG,EAAOnG,UACvCF,aAAaC,QAAQ,WAAYoG,EAAOd,UACxCvF,aAAaC,QAAQ,OAAOoG,EAAO3F,MACnCiD,EAAQS,KAAR,eAPQ,2CAAF,sDAHV,SAaC,cAAGiC,OAAH,EACKC,QADL,EAEKC,YAFL,EAGKC,aAHL,EAIKC,WAJL,OAMO,eAAC,IAAD,WACI,cAAC,IAAD,CAAcC,GAAG,OAAOhG,KAAK,OAC3B2D,GAAI,EACJsC,QAAQ,UACRC,KAAK,OACLC,iBAAiB,WACjBC,EAAE,QACFC,YAAY,OACZC,WAAY,CAAEC,YAAa,YAG7B,cAAC,IAAD,CAAcP,GAAG,UAAUhG,KAAK,UAC9B2D,GAAI,EACJsC,QAAQ,UACRC,KAAK,OACLK,YAAY,YACZF,YAAY,OACZD,EAAE,QACFD,iBAAiB,WACjBG,WAAY,CAAEC,YAAa,cAE7B,cAAC,IAAD,CAAcP,GAAG,WAAWhG,KAAK,WAC/B2D,GAAI,EACJyC,EAAE,QACFH,QAAQ,UACRC,KAAK,OACLK,YAAY,yBACZF,YAAY,OACZF,iBAAiB,WACjBG,WAAY,CAAEC,YAAa,4BAG/B,eAAC,IAAD,WACE,cAAC,IAAD,CAAcP,GAAG,QAAQhG,KAAK,QAC5B2D,GAAI,EACJyC,EAAE,QACFH,QAAQ,UACRC,KAAK,OACLK,YAAY,QACZF,YAAY,OACZF,iBAAiB,WACjBG,WAAY,CAAEC,YAAa,2BAE7B,cAAC,IAAD,CACE5C,GAAI,EACJ6C,cAAc,OACdC,SAAU,cAAC,IAAD,CAAWC,MAAM,cAI/B,eAAC,IAAD,WACE,cAAC,IAAD,CAAc1G,KAAK,WAAWgG,GAAG,WAC/BrC,GAAI,EACJwC,iBAAiB,WACjBF,QAAQ,UACRG,EAAE,QACFE,WAAY,CAAEC,YAAa,gBAAcL,KAAMjB,EAAO,OAAS,cAEjE,cAAC,IAAD,CAAmBtB,GAAI,EAAGgD,MAAM,SAAhC,SACA,cAAC,IAAD,CACEN,YAAY,OACZO,EAAE,UACFhD,KAAK,KACLiD,QAAS1B,EAJX,SAMGF,EAAO,cAAC,IAAD,IAAkB,cAAC,IAAD,WAI9B,eAAC,IAAD,CAAQoB,YAAY,OAAO1C,GAAI,GAAIuC,KAAK,SAAxC,UACG,IADH,SAES,gB,YCtJVY,EAfW,WACxB,IAAQC,EAAoBC,cAApBD,gBAER,OACE,cAAC,IAAD,CACEE,GAAI,EACJtD,GAAI,EACJ,aAAW,6BACX0C,YAAaa,YAAkB,SAAU,UACzCC,KAAMD,YAAkB,cAAC,IAAD,IAAc,cAAC,IAAD,KACtCL,QAASE,KCDA,SAASK,IACtB,IAAInE,EAAUC,cACRmE,EAAWC,aAAY,SAAAjH,GAAK,OAAIA,EAAMkH,KAAKrH,cAEjDlB,QAAQC,IAAI,cAAcoI,GAO1B,OACE,eAAC,IAAD,CACEG,GAAI,GACJlC,QAAQ,SACRmC,KAAK,OAHP,UAKMJ,GACF,qCACA,cAAC,IAAD,CAAMR,QAAS,kBAAM5D,EAAQS,KAAK,mBAAlC,SACE,cAAC,IAAD,CAAQM,EAAG,EAAGqC,YAAY,OAA1B,gCAIF,cAAC,IAAD,CAAMQ,QAAS,kBAAM5D,EAAQS,KAAK,MAAlC,SACE,cAAC,IAAD,CAASM,EAAG,EAAGqC,YAAY,OAA3B,6BAKAgB,GACF,cAAC,IAAD,CAAMR,QAAS,kBAxBnBpH,SACAwD,EAAQS,KAAK,mBAuBT,SACE,cAAC,IAAD,CAAQM,EAAG,EAAGqC,YAAY,MAA1B,qBAIF,cAAC,EAAD,O,cC9BO,SAASqB,KACtB,IAAM5C,EAAWC,cACX9B,EAAUC,cAChB,EAIIyE,eAHF/H,EADF,EACEA,SACAgI,EAFF,EAEEA,aACaC,EAHf,EAGEC,UAAaD,OAWf7I,QAAQC,IAAI4I,GAEZ,MAAwB7C,IAAM7B,UAAS,GAAvC,mBAAO8B,EAAP,KAAaC,EAAb,KAGA,OACE,eAAC,IAAD,CACEE,eAAa,EACbC,QAAQ,OACRvB,UAAU,SACVwB,QAAQ,SACRvB,MAAM,SALR,UAOE,cAAC,IAAD,CAAQhD,GAAG,WAAW6C,KAAK,OAC3B,cAAC,IAAD,CAAS2B,GAAG,KAAK5B,GAAI,EAArB,wBAGA,eAAC,IAAD,CAAM4B,GAAG,KAAK3B,KAAK,KAAnB,+BACkB,IAChB,cAAC,IAAD,CAAMmE,GAAG,IAAIC,UAAU,EAAvB,8BAKF,uBAAMtC,SAAUkC,GAjCH,SAAC9I,GAChBgG,EAASjG,EAAMC,IAEF,UADFQ,aAAagB,QAAQ,YAE9B2C,EAAQS,KAAK,wBAEbT,EAAQS,KAAK,oBA2Bb,UACE,eAAC,IAAD,WACE,cAAC,IAAD,aACEC,GAAI,GACJsE,KAAK,OACLhC,QAAQ,UACRC,KAAK,OACLK,YAAY,yBACZF,YAAY,OACZF,iBAAiB,YACbvG,EAAS,WAAY,CAAE+E,UAAU,MAEvC,cAAC,IAAD,CACEhB,GAAI,GACJ6C,cAAc,OACdC,SAAU,cAAC,IAAD,CAAUC,MAAM,SAC1BwB,GAAI,OAIR,eAAC,IAAD,WACE,cAAC,IAAD,aACEvE,GAAI,EACJwC,iBAAiB,WACjBF,QAAQ,UACRC,KAAMjB,EAAO,OAAS,WACtBsB,YAAY,YACR3G,EAAS,WAAY,CAAE+E,UAAU,MAEvC,cAAC,IAAD,CAAmBhB,GAAI,EAAGgD,MAAM,SAAhC,SACE,cAAC,IAAD,CACEN,YAAY,OACZO,EAAE,UACFhD,KAAK,KACLiD,QAvDQ,kBAAM3B,GAASD,IAmDzB,SAMGA,EAAO,cAAC,IAAD,IAAkB,cAAC,IAAD,WAIhC,eAAC,IAAD,CAAQoB,YAAY,OAAO1C,GAAI,GAAIuC,KAAK,SAAxC,UACG,IADH,SAES,aCjGF,SAASiC,KACtB,OACE,eAAC,IAAD,CACE/B,EAAE,OACFf,QAAQ,OACRvB,UAAU,SACVC,MAAM,SACNuB,QAAQ,SALV,UAOE,cAAC,IAAD,CAASC,GAAG,KAAK3B,KAAK,KAAtB,iBAGA,cAAC,IAAD,CAAS2B,GAAG,KAAK3B,KAAK,KAAKG,MAAM,SAAjC,oFAGA,cAAC,IAAD,CAAMqE,KAAK,IAAX,SACE,cAAC,IAAD,CAAQzE,GAAI,EAAG0C,YAAY,OAA3B,yB,yBCfO,SAASgC,KAEpB,IAAM7I,EAAWF,aAAagB,QAAQ,YAChCjB,EAAQC,aAAagB,QAAQ,QAC7BN,EAAOV,aAAagB,QAAQ,QAC5BgI,EAAK,4EAAwE9I,EAAxE,YAAoFH,GAC/F,OACE,eAAC,IAAD,CAAMyE,UAAU,SAASC,MAAM,SAA/B,UACE,eAAC,IAAD,CAASH,KAAK,KAAd,qCAA4C5D,KAC5C,cAAC,IAAD,kFAGA,cAAC,IAAD,CAAM2D,GAAI,EAAV,+EAGA,cAAC,IAAD,CAAKA,GAAI,EAAT,SACE,cAAC,KAAD,CAAQ4E,MAAOD,S,cCDV,SAASE,KACtB,MAA0BrF,qBAA1B,mBAAOsF,EAAP,KAAcC,EAAd,KAMApF,qBAAU,WACR,IAAMlE,ECfCmE,EAAKC,IAAI,gBDgBhBxE,QAAQC,IAAIG,GACZsJ,EAASD,KACR,IAEH,IAAME,EAAiB,SAACnJ,IC9BE,SAACA,GAClB+D,EAAKpE,KAAK,kBAAmBK,GD8BpCoJ,CAAapJ,IAITqJ,EAAcJ,EAAMK,QAAO,SAAC1F,GAAD,OAA4B,IAAlBA,EAAKgB,YAC1C2E,EAAYN,EAAMK,QAAO,SAAC1F,GAAD,OAA4B,IAAlBA,EAAKgB,YAK9C,OAJApF,QAAQC,IAAI4J,GAKV,eAAC,IAAD,CAAM/E,UAAU,SAASC,MAAM,SAA/B,UACE,eAAC,IAAD,yBAtBQ,WAuBR,eAAC,IAAD,sBAAe8E,EAAYG,OAA3B,2BACA,eAAC,IAAD,CAAKlF,UAAU,SAASC,MAAM,SAASJ,GAAI,GAA3C,WACIkF,EAAYG,QACZ,cAAC,IAAD,UACE,cAAC,IAAD,iEAGHH,EAAYI,KAAI,SAACC,GAChB,OACE,eAAC,IAAD,WACE,eAAC,IAAD,CAAStF,KAAK,KAAK4D,GAAI,EAAG7D,GAAI,EAA9B,UACGuF,EAAWlJ,KADd,IACqBkJ,EAAWC,YAEhC,cAAC,KAAD,CAAWC,aAAW,EAACnB,KAAK,QAA5B,SACE,eAAC,KAAD,CAAeoB,YAAY,OAAOC,WAAW,OAA7C,UACE,6BACE,eAAC,KAAD,CAAiBA,WAAW,OAA5B,UACE,cAAC,IAAD,CAAKC,KAAK,IAAIC,UAAU,OAAxB,SACE,cAAC,IAAD,CAAM9H,SAAS,KAAf,oCAEF,cAAC,KAAD,SAGJ,eAAC,KAAD,CAAgB4D,QAAQ,SAASmE,GAAI,EAArC,UACE,eAAC,IAAD,CAAKpE,QAAQ,OAAb,UACG,IACD,cAAC,IAAD,CACEpB,IAAKiF,EAAWQ,KAChBxF,IAAKgF,EAAWlJ,KAChB2J,OAAO,UACPvD,EAAE,QACFpC,EAAG,IAEL,cAAC,IAAD,CACEC,IAAKiF,EAAWU,KAChB1F,IAAKgF,EAAWlJ,KAChB2J,OAAO,UACPvD,EAAE,QACFpC,EAAG,OAIP,cAAC,IAAD,CAAQ6C,QAAS,kBAAM8B,EAAeO,EAAW1J,WAAW6G,YAAY,OAAOrC,EAAG,EAAlF,8CAQR,OAGN,eAAC,IAAD,CAAKF,UAAU,SAASC,MAAM,SAASJ,GAAI,GAA3C,UACE,eAAC,IAAD,CAASC,KAAK,KAAd,qBACWmF,EAAUC,OADrB,sCAGEH,EAAYG,QACZ,cAAC,IAAD,UACE,cAAC,IAAD,0DAGHD,EAAUE,KAAI,SAAC7E,GACd,OACE,eAAC,IAAD,WACE,eAAC,IAAD,CAASR,KAAK,KAAK4D,GAAI,EAAG7D,GAAI,EAA9B,UACGS,EAASpE,KADZ,IACmBoE,EAAS+E,YAE5B,cAAC,KAAD,CAAWC,aAAW,EAACnB,KAAK,QAA5B,SACE,eAAC,KAAD,CAAeoB,YAAY,OAAOC,WAAW,OAA7C,UACE,6BACE,eAAC,KAAD,CAAiBA,WAAW,OAA5B,UACE,cAAC,IAAD,CAAKC,KAAK,IAAIC,UAAU,OAAxB,SACE,cAAC,IAAD,CAAM9H,SAAS,KAAf,oCAEF,cAAC,KAAD,SAGJ,eAAC,KAAD,CAAgB4D,QAAQ,SAASmE,GAAI,EAArC,UACE,eAAC,IAAD,CAAKpE,QAAQ,OAAb,UACG,IACD,cAAC,IAAD,CACEpB,IAAKG,EAASsF,KACdxF,IAAKE,EAASpE,KACd2J,OAAO,UACPvD,EAAE,QACFpC,EAAG,IAEL,cAAC,IAAD,CACEC,IAAKG,EAASwF,KACd1F,IAAKE,EAASpE,KACd2J,OAAO,UACPvD,EAAE,QACFpC,EAAG,OAIP,cAAC,IAAD,CAAQqC,YAAY,OAAOrC,EAAG,EAA9B,gDAQR,UE5IG,SAAS6F,KACtB,IAAOxK,EAASyK,cAATzK,MACAG,EAAYsK,cAAZtK,SACDyD,EAAUC,cAEH,OAAV7D,GACDC,aAAaC,QAAQ,OAAOF,GAG9B,MAAgC8D,qBAAhC,mBAAOT,EAAP,KAAiBqH,EAAjB,KACA,EAAkC5G,qBAAlC,mBAAOR,EAAP,KAAkBqH,EAAlB,KACA,EAA0B7G,oBAAS,GAAnC,mBAAO8G,EAAP,KAAcC,EAAd,KAEMC,EAAM,uCAAG,WAAMC,GAAN,eAAArL,EAAA,6DACbqL,EAAEC,iBACFH,GAAS,GACTlL,QAAQC,IAAI,eAAeK,aAAagB,QAAQ,SAHnC,SAIKmC,EAAaC,EAASC,EAAUnD,EAASH,GAJ9C,OAIP0D,EAJO,OAKb/D,QAAQC,IAAI,MAAM8D,GAClBE,EAAQS,KAAK,iBANA,2CAAH,sDAuBZ,OACE,eAAC,IAAD,CAAMI,UAAU,SAASC,MAAM,SAASuB,QAAQ,SAAhD,UACE,cAAC,IAAD,CAASkC,GAAI,EAAb,wBACA,cAAC,IAAD,CAAMzD,MAAM,SAAZ,iIAIA,eAAC,IAAD,CAAeqB,eAAa,EAACzB,GAAI,EAAG6D,GAAI,GAAxC,UACE,cAAC,IAAD,4DACA,cAAC,IAAD,4DACA,cAAC,IAAD,qGAMF,uBAAM9B,SAAU,SAAC0E,GAAD,OAAOD,EAAOC,IAA9B,UACE,uBAAOlE,KAAK,OAAOoE,SA/BN,WACjB,IACMC,EADMC,SAASC,eAAe,UACXC,MAAM,GAC/BX,EAAYQ,IA4BiCvE,GAAG,SAAShG,KAAK,SAAS2E,UAAQ,IAC3E,uBAAOuB,KAAK,OAAOoE,SA1BN,WACjB,IACMC,EADMC,SAASC,eAAe,UACXC,MAAM,GAC/BV,EAAaO,IAuBgCvE,GAAG,SAAShG,KAAK,SAAS2E,UAAQ,IAC3E,uBAAOuB,KAAK,SAASqC,MAAM,oBAKzB0B,GAAS,0FCjEnB,IAyCeU,GAzCI,WACjB,IAAM1H,EAAUC,cACV4B,EAAWC,cACjB,EAAwB5B,oBAAS,GAAjC,mBAAO8B,EAAP,KAAaC,EAAb,KACA,EAA0B/B,oBAAS,GAAnC,mBAAO8G,EAAP,KAAcC,EAAd,KAmBMlK,EAAOV,aAAagB,QAAQ,QAElC,OACE,eAAC,IAAD,WACG2E,GAAQ,cAAC,IAAD,qBACT,eAAC,IAAD,sCAAkCjF,EAAlC,OACA,cAAC,IAAD,gIAIA,cAAC,IAAD,CAAQqG,YAAY,OAAOrC,EAAG,EAAG6C,QA3BpB,WACf3B,GAAQ,GACRgF,GAAS,GACT,IACEpF,EACEjG,EAAM,CACJW,SAAUF,aAAagB,QAAQ,YAC/BuE,SAAUvF,aAAagB,QAAQ,eAEjCsK,MAAK,SAAA7H,GACL/D,QAAQC,IAAI,wBACZgE,EAAQS,KAAK,kBAEf,MAAO0G,GACPF,GAAS,KAaT,+BAGED,GAAS,uF,gDCoBjB,IAAMY,GAAiB,SAAC,GAAwC,IAAvCtD,EAAsC,EAAtCA,KAAeuD,EAAuB,EAAjCC,UAAuBC,EAAU,kBAC7D,OACE,cAAC,IAAD,2BACIA,GADJ,IAEAC,OAAQ,kBAAM1D,EACZ,cAACuD,EAAD,IAGE,cAAC,IAAD,CAAU/C,GAAG,wBAYfmD,GAAgB,SAAC,GAAwC,IAAvC3D,EAAsC,EAAtCA,KAAeuD,EAAuB,EAAjCC,UAAuBC,EAAU,kBACtDG,EAA6C,UAArC7L,aAAagB,QAAQ,YAA0B,sBAAwB,eAErF,OADAtB,QAAQC,IAAI,QAAUsI,GAEpB,cAAC,IAAD,2BACIyD,GADJ,IAEAC,OAAQ,kBAAO1D,EAIX,cAAC,IAAD,CAAUQ,GAAE,WAAMoD,KAHpB,cAACL,EAAD,SAWSM,GA7Ef,WACE,IAAMtG,EAAWC,cACXwC,EAAOD,aAAY,SAACjH,GAAD,OAAWA,EAAMkH,KAAKrH,cAO/C,OANAlB,QAAQC,IAAI,OAAOsI,GACnBjE,qBAAU,WACRtE,QAAQC,IAAI,YACZ6F,EAAS1E,OACR,IAGD,cAAC,IAAD,CAAgBa,MAAOA,EAAvB,SACE,eAAC,IAAD,CAAWoK,EAAG,GAAI1H,GAAI,EAAG2H,UAAU,MAAnC,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACA,cAAClE,EAAD,IACE,eAAC,IAAD,0BAEE,cAAC,GAAD,CAAemE,OAAK,EAACC,KAAK,IAAIT,UAAW1G,EAAMkD,KAAMA,IAFvD,+CAIE,cAAC,GAAD,CAAegE,OAAK,EAACC,KAAK,cAAcT,UAAWJ,KAJrD,cAME,cAAC,IAAD,CAAOY,OAAK,EAACC,KAAK,cAAcT,UAAW1C,GAAYd,KAAMA,IAN/D,YAQE,cAAC,GAAD,CAAegE,OAAK,EAACC,KAAK,iBAAiBT,UAAWrD,GAAQH,KAAMA,IARtE,mBAUE,cAAC,IAAD,CAAOgE,OAAK,EAACC,KAAK,mCAAmCT,UAAWlB,GAAkBtC,KAAMA,IAV1F,gBAYE,cAAC,IAAD,CAAOgE,OAAK,EAACC,KAAK,gBAAgBT,UAAW/H,EAAeuE,KAAMA,IAZpE,kBAcE,cAAC,GAAD,CAAgBgE,OAAK,EAACC,KAAK,uBAAuBT,UAAWvC,GAAgBjB,KAAMA,IAEnF,cAAC,IAAD,CAAOwD,UAAW5C,iB,kBCpDxB1H,GAAUgL,aAAgB,CAC9BlE,KAAMmE,IAOOC,GAJDC,YAAe,CAC3BnL,QAAQA,KCDVoL,IAASZ,OACP,cAAC,IAAMa,WAAP,UACE,cAAC,IAAD,CAAUH,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJnB,SAASC,eAAe,W","file":"static/js/main.9b852237.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst headers = {\n    'Access-Control-Allow-Origin': '*',\n}\n\n\n// AUTH SERVICES: LOGIN, REGISTER AND LOGOUT\nexport const login = async (data) => {\n    console.log(data)\n    console.log(headers)\n    const response = await axios.post('https://validacion-desarrollo.herokuapp.com/api/auth/login/', data);  \n\n    if (response.data.token) {\n        localStorage.setItem('user',response.data.token);\n        localStorage.setItem('username', data.username);\n    }\n    return response;\n}\n\nexport const logout = () => {\n    localStorage.clear();\n}\n\n\nexport const register = data => {\n    console.log(\"Data\",data);\n    axios.post('https://validacion-desarrollo.herokuapp.com/api/auth/register/', data)\n}\n\n// Authentication service\nexport const authService = {\n    register,\n    login,\n    logout,\n};\n\n// http.interceptors.request.use(function (config) {\n//     let token = localStorage.getItem('user')\n\n//     if (token) {\n//         config.headers.Authorization = `Bearer ${token}`\n//     }\n//     return config;\n// }, function (error) {\n//     return Promise.reject(error);\n// });","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { authService } from  '../../services/AuthService';\n\n\nexport const login = createAsyncThunk(\n    \"auth/login\",\n    async (data) => {\n      await authService.login(data);\n    }\n  );\n\nexport const logout  = createAsyncThunk(\n    \"auth/logout\",\n    async () => {\n      authService.logout();\n    }\n);\n\nexport const register = createAsyncThunk(\n    \"auth/register\",\n    async (data) => {\n       return authService.register(data);\n    }\n);\n\nlet initialState = {\n    isLoggedIn: false\n}\n\nconst slice = createSlice({\n    name: 'auth',\n    initialState,\n    reducers: {\n        checkLogged: (state) => {\n            if (localStorage.getItem('user')) {\n                state.isLoggedIn = true;\n            } else {\n                state.isLoggedIn = false;\n            }\n        }\n    },\n    extraReducers: {\n        [login.fulfilled]: (state) => {\n            state.isLoggedIn = true;\n        },\n        [logout.fulfilled]: (state) => {\n            state.isLoggedIn = false;\n        },\n        [register.fulfilled]: (state) => {\n            state.isLoggedIn = false;\n        }\n    }\n});\n\nconst { reducer } = slice;\nexport default reducer;\nexport const { checkLogged } = slice.actions;\n","import { extendTheme } from \"@chakra-ui/react\";\n\nimport { mode } from \"@chakra-ui/theme-tools\";\n\nconst styles = {\n  global: (props) => ({\n    body: {\n      bg: mode(\"#f0e7db\", \"#202023\")(props),\n    },\n  }),\n};\n\nconst components = {\n  Heading: {\n    variants: {\n      \"section-title\": {\n        textDecoration: \"underline\",\n        fontSize: 20,\n        textUnderlineOffset: 6,\n        textDecorationColor: \"#525252\",\n        textDecorationThickness: 4,\n        marginTop: 3,\n        marginBottom: 4,\n      },\n    },\n  },\n\n  Link: {\n    baseStyle: (props) => ({\n      textDecoration: \"none\",\n    }),\n  },\n};\nconst fonts = {\n  heading: \"'Roboto'\",\n};\n\nconst colors = {\n  glassTeal: \"#88ccca\",\n};\n\nconst config = {\n  initialColorMode: \"dark\",\n  useSystemColorMode: true,\n};\n\nconst theme = extendTheme({\n  config,\n  styles,\n  components,\n  colors,\n  fonts,\n});\nexport default theme;\n","import { Global } from \"@emotion/react\";\nconst Fonts = () => (\n  <Global\n    styles={`\n    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500&display=swap');\n    `}\n  />\n);\n\nexport default Fonts;\n","import axios from \"axios\";\n\n\n// axios config for api requests\nconst URL = \"https://validacion-desarrollo.herokuapp.com/api/\";\n\n\nexport default axios.create({\n  baseURL: URL,\n  headers: {\n     'Authorization': `Bearer ${localStorage.getItem('user')}`\n  }\n});","import http from '../utils/config/axios.config';\nimport axios from 'axios';\n\n\nlet config = axios.create({\n    baseURL: 'https://validacion-desarrollo.herokuapp.com/api',\n    headers: { \n      'accept': 'application/json', \n      'Authorization': `Bearer ${localStorage.getItem('user')}`, \n    },\n});\n\n\nexport const uploadPhotos = async(firstPic,secondPic,username,token) => {\n    let data = new FormData();\n    data.append('photo1', firstPic);\n    data.append('photo2', secondPic);\n    console.log(\"token from uplado photos:\",localStorage.getItem('user'))\n    console.log(\"username uplado\", username)\n    console.log(\"tokeeeen uplado\", token)\n\n    const res = await axios.put(`https://validacion-desarrollo.herokuapp.com/api/onboarding/photos/${username}`,data, {\n        headers: {\n            'accept': 'application/json', \n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        }\n    })\n    console.log(res)\n\n}\n\nexport const getUser = () => {\n    return http.get(`/onboarding/users/${localStorage.getItem('username')}`);\n}\n\n// http.interceptors.request.use(function (config) {\n//     let token = localStorage.getItem('user')\n\n//     if (token) {\n//         config.headers.Authorization = `Bearer ${token}`\n//     }\n//     return config;\n// }, function (error) {\n//     return Promise.reject(error);\n// });","import { Box, Heading, Flex, Img } from \"@chakra-ui/react\";\nimport React, { useEffect, useState } from \"react\";\nimport { getUser } from \"../services/axiosService\";\nimport { useHistory } from \"react-router\";\n\nexport default function UserDashboard() {\n  const history = useHistory();\n  const [user, setUser] = useState();\n  useEffect(async() => {\n    const response = await getUser();\n    console.log(\"Response to getUser(): \", response.data.user);\n    setUser(response.data.user)\n    if (user.urlDni1 === null) {\n      history.push('/onboarding');\n    }\n  }, [])\n\n  return (\n    <div>\n      {user &&\n    <Box mt={10}>\n      <Heading size=\"lg\">\n        Bienvenido {user.name} {user.surname}\n      </Heading>\n      <Flex direction=\"column\" align=\"center\" mt={5}>\n        {\" \"}\n        <Heading size=\"md\">Documentos aportados</Heading>\n        <Img m={3} src={user.urlDni1} alt=\"img2\" />\n        <Img m={3} src={user.urlDni2} alt=\"img2\"/>\n      </Flex>\n\n      {user.validate === true && (\n          <Heading size=\"md\">Enhorabuena, su cuenta esta validada.</Heading>\n      )}\n\n      {user.validate === false && (\n          <Heading size=\"md\">Su cuenta será validada por un administrador proximamente.</Heading>\n      )}      \n    </Box>\n    }\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Formik, Form } from 'formik';\nimport { register,login } from '../features/auth/authSlice';\nimport * as Yup from 'yup';\nimport Swal from 'sweetalert2'\nimport { useDispatch } from \"react-redux\";\nimport {\n  Container,\n  InputGroup,\n  Button,\n  IconButton,\n  InputRightElement,\n  InputLeftElement,\n  Avatar,\n  Heading,\n  Text,\n} from \"@chakra-ui/react\";\nimport {\n  InputControl,\n} from \"formik-chakra-ui\";\nimport { EmailIcon, ViewIcon, ViewOffIcon } from \"@chakra-ui/icons\";\nimport UserDashboard from \"./UserDashboard\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Home() {\n\n    const initialValues = {\n        name: '',\n        surname: '',\n        email: '',\n        username:'',\n        password: '',\n    }\n\n    const registerSchema = Yup.object().shape(\n        {\n            name: Yup.string()\n                .min(3, 'Nombre muy corto')\n                .max(16, 'Nombre muy largo')\n                .required('Nombre requerido'),\n            surname: Yup.string()\n                .min(3, 'Apellido muy corto')\n                .max(16, 'Apellido muy largo')\n                .required('Apellido requerido'),\n            email: Yup.string()\n                .email('Formato de email inválido')\n                .required('Email requerido'),\n            password: Yup.string()\n                .min(8, 'Contraseña muy corta')\n                .required('Contraseña requerida'),\n            username: Yup.number()\n                .min(8,'Número muy corto')\n                .required('Número de documento requerido')\n        }\n    )\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [show, setShow] = React.useState(false);\n  const handleClick = () => setShow(!show);\n\n  return (\n    <Container\n      centerContent\n      display=\"flex\"\n      direction=\"column\"\n      justify=\"center\"\n      align=\"center\"\n    >\n      <Avatar bg=\"teal.500\" size=\"xl\" />\n      <Heading as=\"h1\" mt={3}>\n        Bienvenido\n      </Heading>\n      <Text as=\"h3\" size=\"md\">\n        Introduzca sus datos para realizar el registro\n      </Text>\n\n      <Formik\n        initialValues={initialValues}\n        validationSchema={registerSchema}\n        onSubmit={async(values) => {\n          console.log(\"VALUES\",values);\n          dispatch(register(values));\n          console.log(\"USERNAME\",values.username);\n          localStorage.setItem('username',values.username);\n          localStorage.setItem('password', values.password);\n          localStorage.setItem('name',values.name)\n          history.push(`/onboarding`);\n        }}\n      >\n      {({ values,\n            touched,\n            isSubmiting,\n            handleChange,\n            handleBlur }) => (\n\n              <Form>\n                  <InputControl id=\"name\" name=\"name\" \n                    mt={6}\n                    variant=\"flushed\"\n                    type=\"text\"\n                    focusBorderColor=\"teal.500\"\n                    w=\"350px\"\n                    colorScheme=\"teal\"\n                    inputProps={{ placeholder: 'Nombre' }}\n                  />\n\n                  <InputControl id=\"surname\" name=\"surname\"\n                    mt={6}\n                    variant=\"flushed\"\n                    type=\"text\"\n                    placeholder=\"Apellidos\"\n                    colorScheme=\"teal\"\n                    w=\"350px\"\n                    focusBorderColor=\"teal.500\"\n                    inputProps={{ placeholder: 'Apellido' }}\n                  />\n                  <InputControl id=\"username\" name=\"username\" \n                    mt={6}\n                    w=\"350px\"\n                    variant=\"flushed\"\n                    type=\"text\"\n                    placeholder=\"Número de documento\"\n                    colorScheme=\"teal\"\n                    focusBorderColor=\"teal.500\"\n                    inputProps={{ placeholder: 'Número de documento' }}\n                  />\n\n                <InputGroup>\n                  <InputControl id=\"email\" name=\"email\" \n                    mt={6}\n                    w=\"350px\"\n                    variant=\"flushed\"\n                    type=\"text\"\n                    placeholder=\"Email\"\n                    colorScheme=\"teal\"\n                    focusBorderColor=\"teal.500\"\n                    inputProps={{ placeholder: 'Correo electrónico' }}\n                  />\n                  <InputLeftElement\n                    mt={6}\n                    pointerEvents=\"none\"\n                    children={<EmailIcon color=\"teal\" />}\n                  />\n                </InputGroup>\n\n                <InputGroup>\n                  <InputControl name=\"password\" id=\"password\"\n                    mt={6}\n                    focusBorderColor=\"teal.500\"\n                    variant=\"flushed\"\n                    w=\"350px\"\n                    inputProps={{ placeholder: 'Contraseña', type: show ? \"text\" : \"password\"}}\n                  />\n                  <InputRightElement mt={6} width=\"4.5rem\">\n                  <IconButton\n                    colorScheme=\"teal\"\n                    h=\"1.75rem\"\n                    size=\"sm\"\n                    onClick={handleClick}\n                  >\n                    {show ? <ViewOffIcon /> : <ViewIcon />}\n                  </IconButton>\n                  </InputRightElement>\n                </InputGroup>               \n                <Button colorScheme=\"teal\" mt={10} type=\"submit\">\n                  {\" \"}\n                  Enviar{\" \"}\n                </Button>\n              </Form>\n            )}\n      </Formik>\n    </Container>\n  );\n}\n","import { IconButton, useColorMode, useColorModeValue } from \"@chakra-ui/react\";\nimport { SunIcon, MoonIcon } from \"@chakra-ui/icons\";\n\nconst ThemeToggleButton = () => {\n  const { toggleColorMode } = useColorMode();\n\n  return (\n    <IconButton\n      ml={2}\n      mt={2}\n      aria-label=\"Toggle theme toggle button\"\n      colorScheme={useColorModeValue(\"purple\", \"orange\")}\n      icon={useColorModeValue(<MoonIcon />, <SunIcon />)}\n      onClick={toggleColorMode}\n    ></IconButton>\n  );\n};\n\nexport default ThemeToggleButton;\n","import React from \"react\";\nimport {\n  Button,\n  Flex,\n  Link,\n} from \"@chakra-ui/react\";\nimport { logout } from '../services/AuthService';\nimport ThemeToggleButton from \"../components/theme-toggle-button\";\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { checkLogged } from '../features/auth/authSlice';\n\nexport default function NavBar() {\n  let history = useHistory();\n  const isLogged = useSelector(state => state.auth.isLoggedIn);\n\n  console.log(\"isLogged = \",isLogged);\n\n  const logoutAcc = () => {\n    logout();\n    history.push('/iniciarsesion');\n  } \n\n  return (\n    <Flex\n      mb={20}\n      justify=\"center\"\n      wrap=\"wrap\"\n    > \n        { isLogged ||\n        <>\n        <Link onClick={() => history.push('/iniciarsesion')}>\n          <Button m={2} colorScheme=\"teal\">\n            Inicia Sesión\n          </Button>\n        </Link>\n        <Link onClick={() => history.push('/')}>\n          <Button  m={2} colorScheme=\"teal\">Registrate</Button>\n        </Link>\n        </> \n        }\n\n        { isLogged &&        \n        <Link onClick={() => logoutAcc()}>\n          <Button m={2} colorScheme=\"red\">Salir</Button>\n        </Link>\n        }\n\n        <ThemeToggleButton  />\n    </Flex>\n  );\n}\n","import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useDispatch } from 'react-redux';\nimport { login } from \"../features/auth/authSlice\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport {\n  Container,\n  Input,\n  InputGroup,\n  Button,\n  IconButton,\n  InputRightElement,\n  Avatar,\n  Heading,\n  Text,\n} from \"@chakra-ui/react\";\nimport { LockIcon, ViewIcon, ViewOffIcon } from \"@chakra-ui/icons\";\n\nexport default function SignIn() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n  const onSubmit = (data) => {\n    dispatch(login(data))\n    let role = localStorage.getItem('username');\n    if (role === \"admin\") {\n      history.push('/paneladministracion');\n    } else {\n      history.push('/panelusuario');\n    }\n  }\n  console.log(errors);\n\n  const [show, setShow] = React.useState(false);\n  const handleClick = () => setShow(!show);\n\n  return (\n    <Container\n      centerContent\n      display=\"flex\"\n      direction=\"column\"\n      justify=\"center\"\n      align=\"center\"\n    >\n      <Avatar bg=\"teal.500\" size=\"xl\" />\n      <Heading as=\"h1\" mt={3}>\n        Bienvenido\n      </Heading>\n      <Text as=\"h3\" size=\"md\">\n        Inicie sesión o{\" \"}\n        <Link to=\"/\" passHref={true}>\n          regístrese\n        </Link>\n      </Text>\n\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <InputGroup>\n          <Input\n            mt={10}\n            minW=\"40ch\"\n            variant=\"flushed\"\n            type=\"text\"\n            placeholder=\"Documento de identidad\"\n            colorScheme=\"teal\"\n            focusBorderColor=\"teal.500\"\n            {...register(\"username\", { required: true })}\n          />\n          <InputRightElement\n            mt={10}\n            pointerEvents=\"none\"\n            children={<LockIcon color=\"teal\" />}\n            mr={4}\n          />\n        </InputGroup>\n\n        <InputGroup>\n          <Input\n            mt={6}\n            focusBorderColor=\"teal.500\"\n            variant=\"flushed\"\n            type={show ? \"text\" : \"password\"}\n            placeholder=\"password\"\n            {...register(\"password\", { required: true })}\n          />\n          <InputRightElement mt={6} width=\"4.5rem\">\n            <IconButton\n              colorScheme=\"teal\"\n              h=\"1.75rem\"\n              size=\"sm\"\n              onClick={handleClick}\n            >\n              {show ? <ViewOffIcon /> : <ViewIcon />}\n            </IconButton>\n          </InputRightElement>\n        </InputGroup>\n        <Button colorScheme=\"teal\" mt={10} type=\"submit\">\n          {\" \"}\n          Enviar{\" \"}\n        </Button>\n      </form>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport { Flex, Heading, Link } from \"@chakra-ui/layout\";\nimport { Button } from \"@chakra-ui/button\";\n\nexport default function NotFound() {\n  return (\n    <Flex\n      w=\"60vw\"\n      display=\"flex\"\n      direction=\"column\"\n      align=\"center\"\n      justify=\"center\"\n    >\n      <Heading as=\"h1\" size=\"xl\">\n        404\n      </Heading>\n      <Heading as=\"h2\" size=\"md\" align=\"center\">\n        Lo sentimos, no hemos podido encontrar la pagina que estabas buscando.\n      </Heading>\n      <Link href=\"/\">\n        <Button mt={6} colorScheme=\"teal\">\n          Volver\n        </Button>\n      </Link>\n    </Flex>\n  );\n}\n","import { Box, Flex, Heading, Text } from \"@chakra-ui/layout\";\nimport React, {useEffect} from \"react\";\nimport QRCode from \"react-qr-code\";\n\n\nexport default function Validation() {\n\n    const username = localStorage.getItem('username');\n    const token = localStorage.getItem('user');\n    const name = localStorage.getItem('name');\n    const QRURL = `https://luciaberon.github.io/proyecto-validacion/#/validarusuario/${username}/${token}`;\n    return (\n      <Flex direction=\"column\" align=\"center\">\n        <Heading size=\"md\">Gracias por registrarse {name}</Heading>\n        <Text>\n          Para continuar con el proceso, necesitamos que valide su identidad.\n        </Text>\n        <Text mt={6}>\n          Escanee el siguiente código QR con su telefono para continuar:\n        </Text>\n        <Box mt={6}>\n          <QRCode value={QRURL} />\n        </Box>\n      </Flex>\n  );\n}\n","import {\n  Flex,\n  Box,\n  Heading,\n  Text,\n  Container,\n  Accordion,\n  AccordionItem,\n  AccordionButton,\n  AccordionIcon,\n  AccordionPanel,\n  Image,\n  Button,\n} from \"@chakra-ui/react\";\nimport { getAllUsers, validateUser } from '../services/adminAuthService';\nimport React, {useState, useEffect} from \"react\";\n\n//TODOO VALIDAR DOCUMENTOS\n//TODOO ANULAR VALIDACION\n\nexport default function AdminDashboard() {\n  const [users, setUsers] = useState();\n  // Fetch users and admin\n  const adminFake = {\n    username: \"Admin\",\n  };\n\n  useEffect(() => {\n    const response = getAllUsers();\n    console.log(response)\n    setUsers(users);\n  }, [])\n\n  const handleValidate = (username) => {\n    validateUser(username);\n  }\n\n  //Filter users\n  const noValidates = users.filter((user) => user.validate === false);\n  const validates = users.filter((user) => user.validate === true);\n  console.log(noValidates);\n\n  //Images Alert\n\n  return (\n    <Flex direction=\"column\" align=\"center\">\n      <Heading>Bienvenido {adminFake.username}</Heading>\n      <Text>Tenemos {noValidates.length} usuarios por validar</Text>\n      <Box direction=\"column\" align=\"center\" mt={20}>\n        {!noValidates.length && (\n          <Container>\n            <Text>¡Enhorabuena! No quedan usuarios por validar.</Text>\n          </Container>\n        )}\n        {noValidates.map((noValidate) => {\n          return (\n            <Box>\n              <Heading size=\"lg\" mb={3} mt={3}>\n                {noValidate.name} {noValidate.lastname}\n              </Heading>\n              <Accordion allowToggle minW=\"50rem\">\n                <AccordionItem borderColor=\"teal\" focusColor=\"teal\">\n                  <h2>\n                    <AccordionButton focusColor=\"teal\">\n                      <Box flex=\"1\" textAlign=\"left\">\n                        <Text fontSize=\"lg\">Documentos aportados</Text>\n                      </Box>\n                      <AccordionIcon />\n                    </AccordionButton>\n                  </h2>\n                  <AccordionPanel justify=\"center\" pb={4}>\n                    <Box display=\"flex\">\n                      {\" \"}\n                      <Image\n                        src={noValidate.img1}\n                        alt={noValidate.name}\n                        cursor=\"pointer\"\n                        w=\"350px\"\n                        m={2}\n                      />\n                      <Image\n                        src={noValidate.img2}\n                        alt={noValidate.name}\n                        cursor=\"pointer\"\n                        w=\"350px\"\n                        m={2}\n                      />\n                    </Box>\n\n                    <Button onClick={() => handleValidate(noValidate.username)} colorScheme=\"teal\" m={4}>\n                      Validar documentos\n                    </Button>\n                  </AccordionPanel>\n                </AccordionItem>\n              </Accordion>\n            </Box>\n          );\n        })}{\" \"}\n      </Box>\n\n      <Box direction=\"column\" align=\"center\" mt={20}>\n        <Heading size=\"md\">\n          Tenemos {validates.length} usuarios validados hasta ahora\n        </Heading>\n        {!noValidates.length && (\n          <Container>\n            <Text>¡Parece que no hay usuarios validados!</Text>\n          </Container>\n        )}\n        {validates.map((validate) => {\n          return (\n            <Box>\n              <Heading size=\"lg\" mb={3} mt={3}>\n                {validate.name} {validate.lastname}\n              </Heading>\n              <Accordion allowToggle minW=\"50rem\">\n                <AccordionItem borderColor=\"teal\" focusColor=\"teal\">\n                  <h2>\n                    <AccordionButton focusColor=\"teal\">\n                      <Box flex=\"1\" textAlign=\"left\">\n                        <Text fontSize=\"lg\">Documentos aportados</Text>\n                      </Box>\n                      <AccordionIcon />\n                    </AccordionButton>\n                  </h2>\n                  <AccordionPanel justify=\"center\" pb={4}>\n                    <Box display=\"flex\">\n                      {\" \"}\n                      <Image\n                        src={validate.img1}\n                        alt={validate.name}\n                        cursor=\"pointer\"\n                        w=\"350px\"\n                        m={2}\n                      />\n                      <Image\n                        src={validate.img2}\n                        alt={validate.name}\n                        cursor=\"pointer\"\n                        w=\"350px\"\n                        m={2}\n                      />\n                    </Box>\n\n                    <Button colorScheme=\"teal\" m={4}>\n                      Anular validación\n                    </Button>\n                  </AccordionPanel>\n                </AccordionItem>\n              </Accordion>\n            </Box>\n          );\n        })}{\" \"}\n      </Box>\n    </Flex>\n  );\n}\n","import http from '../utils/config/axios.config';\n\n// validate user\nexport const validateUser = (username) => {\n    return http.post('/panel/validate', username);\n}\n\n// request user data\nexport const getUserData = (email) => {\n    return http.get('/getuserdataurl');\n}\n\nexport const getAllUsers = () => {\n    return http.get('/panel/users');\n}","import {\n  Flex,\n  Text,\n  Heading,\n  UnorderedList,\n  ListItem,\n} from \"@chakra-ui/react\";\nimport { ResetButton } from \"formik-chakra-ui\";\nimport React, { useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { uploadPhotos } from \"../services/axiosService\";\n\nexport default function ResponsiveUpload() {\n  const {token} = useParams();\n  const {username} = useParams();\n  const history = useHistory();\n\n  if(token !== null) {\n    localStorage.setItem(\"user\",token);\n  }\n\n  const [firstPic, setFirstPic] = useState();\n  const [secondPic, setSecondPic] = useState();\n  const [error, setError] = useState(false);\n\n  const upload = async(e) => {\n    e.preventDefault();\n    setError(false);\n    console.log(\"token uplado\",localStorage.getItem('user'));\n    const res = await uploadPhotos(firstPic,secondPic,username,token);\n    console.log(\"res\",res)\n    history.push('/panelusuario');\n  }\n\n  const handleImg1 = () => {\n    const pic = document.getElementById(\"photo1\");\n    const selectedFile = pic.files[0];\n    setFirstPic(selectedFile);\n  }\n\n  const handleImg2 = () => {\n    const pic = document.getElementById(\"photo2\");\n    const selectedFile = pic.files[0];\n    setSecondPic(selectedFile);\n  }\n\n  const types = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\n\n  return (\n    <Flex direction=\"column\" align=\"center\" justify=\"center\">\n      <Heading mb={6}>Bienvenido</Heading>\n      <Text align=\"center\">\n        Para finalizar tu registro, necesitamos que subas tu documento de\n        identidad. Ten en cuenta lo siguiente, por favor:\n      </Text>\n      <UnorderedList centerContent mt={4} mb={10}>\n        <ListItem>Solo aceptamos imagenes en formato jpeg o png</ListItem>\n        <ListItem>Deben ser dos fotografias (anverso y reverso)</ListItem>\n        <ListItem>\n          Tu cuenta no estará activada hasta que el administrador no valide tus\n          documentos\n        </ListItem>\n      </UnorderedList>\n\n      <form onSubmit={(e) => upload(e)}>\n        <input type=\"file\" onChange={handleImg1} id=\"photo1\" name=\"photo1\" required></input>\n        <input type=\"file\" onChange={handleImg2} id=\"photo2\" name=\"photo2\" required></input>\n        <input type=\"submit\" value=\"ENVIAR FOTOS\"></input>\n\n      </form>\n      \n      { \n          error && <div>Error al cargar las imágenes, intente nuevamente.</div> \n      }\n\n    </Flex>\n    \n  );\n  \n}\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { login } from \"../features/auth/authSlice\";\nimport axios from \"axios\";\nimport { Button, Heading, Text, Container } from \"@chakra-ui/react\";\n\nconst Onboarding = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [show, setShow] = useState(false);\n  const [error, setError] = useState(false);\n\n  const setLogin = () => {\n    setShow(true);\n    setError(false);\n    try {\n      dispatch(\n        login({\n          username: localStorage.getItem(\"username\"),\n          password: localStorage.getItem(\"password\"),\n        })\n      ).then(res => {\n        console.log(\"login done, redirect\");\n        history.push(\"/validacion\");\n      })\n    } catch (e) {\n      setError(true);\n    }\n  };\n  const name = localStorage.getItem(\"name\");\n\n  return (\n    <Container>\n      {show && <Heading>LOGGED</Heading>}\n      <Heading>Gracias por registrarse {name} </Heading>\n      <Text>\n        Para continuar, necesitamos que nos proporcione su documento de\n        ideantidad. Por favor, siga los siguientes pasos:\n      </Text>\n      <Button colorScheme=\"teal\" m={5} onClick={setLogin}>\n        VALIDAR IDENTIDAD\n      </Button>\n      { error && <div>Error al procesar solicitud, intente nuevamente.</div>}\n    </Container>\n  );\n};\n\nexport default Onboarding;\n","import {\n  HashRouter,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom';\nimport { ChakraProvider, Container } from \"@chakra-ui/react\";\nimport { useEffect } from \"react\";\nimport { checkLogged } from \"./features/auth/authSlice\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport theme from \"./styles/theme\";\nimport Fonts from \"./styles/fonts\";\nimport Home from \"./pages/Home.js\";\nimport NavBar from \"./pages/NavBar\";\nimport SignIn from \"./pages/SignIn\";\nimport NotFound from \"./pages/NotFound\";\nimport Validation from \"./pages/Validation\";\nimport AdminDashboard from \"./pages/AdminDashboard\";\nimport ResponsiveUpload from \"./pages/ResponsiveUpload\";\nimport UserDashboard from './pages/UserDashboard';\nimport Onboarding from './pages/Onboarding';\n\n\nfunction App() {\n  const dispatch = useDispatch();\n  const auth = useSelector((state) => state.auth.isLoggedIn);\n  console.log(\"AUTH\",auth)\n  useEffect(() => {\n    console.log(\"checking\")\n    dispatch(checkLogged());\n  }, []);\n\n  return (\n    <ChakraProvider theme={theme}>\n      <Container p={10} mt={5} className=\"App\">\n        <Fonts />\n        <HashRouter>\n        <NavBar />\n          <Switch>\n            /// register\n            <ProtectedAuth exact path=\"/\" component={Home} auth={auth} />\n            /// onboarding with validate identity button\n            <ProtectedAuth exact path=\"/onboarding\" component={Onboarding} />\n            /// qr code\n            <Route exact path=\"/validacion\" component={Validation} auth={auth} />\n            /// login\n            <ProtectedAuth exact path=\"/iniciarsesion\" component={SignIn} auth={auth} />\n            // upload images\n            <Route exact path=\"/validarusuario/:username/:token\" component={ResponsiveUpload} auth={auth} />\n            // user panel\n            <Route exact path=\"/panelusuario\" component={UserDashboard} auth={auth} />\n            /// admin panel\n            <ProtectedRoute exact path=\"/paneladministracion\" component={AdminDashboard} auth={auth}/>\n\n            <Route component={NotFound} />\n          </Switch>\n        </HashRouter>\n      </Container>\n    </ChakraProvider>\n  );\n}\n\nconst ProtectedRoute = ({auth,component:Component,...rest}) => {  \n  return (\n    <Route\n    {...rest}\n    render={() => auth ? (\n      <Component />\n    ): \n      (\n        <Redirect to=\"/iniciarsesion\" />   \n      )\n    }\n    />\n  )\n}\n\n\n\n\n\n\nconst ProtectedAuth = ({auth,component:Component,...rest}) => {\n  const panel = localStorage.getItem('username') === 'Admin' ? 'paneladministracion' : 'panelusuario'\n  console.log(\"auth?\",  auth)\n  return (\n    <Route\n    {...rest}\n    render={() => !auth ? (\n      <Component />\n    ): \n      (\n        <Redirect to={`/${panel}`} />   \n      )\n    }\n    />\n  )\n}\n\n\nexport default App;\n","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\nimport AuthReducer from '../features/auth/authSlice';\n\nconst reducer = combineReducers({\n  auth: AuthReducer\n})\n  \nconst store = configureStore({\n  reducer:reducer\n});\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/app.css'\nimport { Provider } from 'react-redux';\nimport store from './app/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}